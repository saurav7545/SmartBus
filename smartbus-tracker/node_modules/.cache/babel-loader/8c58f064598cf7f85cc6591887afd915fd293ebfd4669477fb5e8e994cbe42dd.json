{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJECT\\\\smartbus-tracker\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { MapContainer, TileLayer, Marker, Popup, Circle } from \"react-leaflet\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\n\n// üöå Custom bus icon\nimport busIconImg from \"./images/bus.png\"; // rename your uploaded bus image to \"bus-icon.png\" and put it inside src folder\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst busIcon = new L.Icon({\n  iconUrl: busIconImg,\n  iconSize: [45, 45],\n  iconAnchor: [22, 44],\n  popupAnchor: [0, -40]\n});\nexport default function App() {\n  _s();\n  const [busPosition, setBusPosition] = useState([30.3165, 78.0322]); // Start: Dehradun\n  const [userPosition, setUserPosition] = useState([30.3500, 78.0500]); // Simulated user\n  const [distance, setDistance] = useState(0);\n\n  // üß≠ Function to calculate distance\n  const getDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371; // km\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLon = (lon2 - lon1) * Math.PI / 180;\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  };\n\n  // üïí Simulate bus movement every 5 sec\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setBusPosition(([lat, lng]) => [lat + 0.001, lng + 0.001]); // Move slightly\n    }, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // üßÆ Update distance on position change\n  useEffect(() => {\n    const d = getDistance(busPosition[0], busPosition[1], userPosition[0], userPosition[1]);\n    setDistance(d.toFixed(2));\n  }, [busPosition, userPosition]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: \"center\",\n        background: \"#ff9800\",\n        padding: \"10px\",\n        color: \"white\"\n      },\n      children: [\"\\uD83D\\uDE8C Live Bus Tracking \\u2014 Distance: \", distance, \" km\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: busPosition,\n      zoom: 14,\n      style: {\n        height: \"90vh\",\n        width: \"100%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/\\\">OSM</a>\",\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Marker, {\n        position: busPosition,\n        icon: busIcon,\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: [\"Volvo AC Bus\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 30\n          }, this), \"Route: Dehradun \\u2192 Delhi\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Marker, {\n        position: userPosition,\n        icon: L.icon({\n          iconUrl: \"https://cdn-icons-png.flaticon.com/512/64/64113.png\",\n          iconSize: [35, 35]\n        }),\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: \"Your Location\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Circle, {\n        center: userPosition,\n        radius: 100,\n        pathOptions: {\n          color: \"blue\",\n          fillColor: \"#30f\",\n          fillOpacity: 0.2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"5leeO1toaqVknT4hQP4c3cn41UM=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","MapContainer","TileLayer","Marker","Popup","Circle","L","busIconImg","jsxDEV","_jsxDEV","busIcon","Icon","iconUrl","iconSize","iconAnchor","popupAnchor","App","_s","busPosition","setBusPosition","userPosition","setUserPosition","distance","setDistance","getDistance","lat1","lon1","lat2","lon2","R","dLat","Math","PI","dLon","a","sin","cos","atan2","sqrt","interval","setInterval","lat","lng","clearInterval","d","toFixed","children","style","textAlign","background","padding","color","fileName","_jsxFileName","lineNumber","columnNumber","center","zoom","height","width","attribution","url","position","icon","radius","pathOptions","fillColor","fillOpacity","_c","$RefreshReg$"],"sources":["D:/PROJECT/smartbus-tracker/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { MapContainer, TileLayer, Marker, Popup, Circle } from \"react-leaflet\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\n\n// üöå Custom bus icon\nimport busIconImg from \"./images/bus.png\"; // rename your uploaded bus image to \"bus-icon.png\" and put it inside src folder\n\nconst busIcon = new L.Icon({\n  iconUrl: busIconImg,\n  iconSize: [45, 45],\n  iconAnchor: [22, 44],\n  popupAnchor: [0, -40],\n});\n\nexport default function App() {\n  const [busPosition, setBusPosition] = useState([30.3165, 78.0322]); // Start: Dehradun\n  const [userPosition, setUserPosition] = useState([30.3500, 78.0500]); // Simulated user\n  const [distance, setDistance] = useState(0);\n\n  // üß≠ Function to calculate distance\n  const getDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371; // km\n    const dLat = ((lat2 - lat1) * Math.PI) / 180;\n    const dLon = ((lon2 - lon1) * Math.PI) / 180;\n    const a =\n      Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n      Math.cos((lat1 * Math.PI) / 180) *\n        Math.cos((lat2 * Math.PI) / 180) *\n        Math.sin(dLon / 2) *\n        Math.sin(dLon / 2);\n    return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  };\n\n  // üïí Simulate bus movement every 5 sec\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setBusPosition(([lat, lng]) => [lat + 0.001, lng + 0.001]); // Move slightly\n    }, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // üßÆ Update distance on position change\n  useEffect(() => {\n    const d = getDistance(\n      busPosition[0],\n      busPosition[1],\n      userPosition[0],\n      userPosition[1]\n    );\n    setDistance(d.toFixed(2));\n  }, [busPosition, userPosition]);\n\n  return (\n    <div>\n      <h2 style={{ textAlign: \"center\", background: \"#ff9800\", padding: \"10px\", color: \"white\" }}>\n        üöå Live Bus Tracking ‚Äî Distance: {distance} km\n      </h2>\n\n      <MapContainer\n        center={busPosition}\n        zoom={14}\n        style={{ height: \"90vh\", width: \"100%\" }}\n      >\n        <TileLayer\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/\">OSM</a>'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n\n        {/* üöå Bus Marker */}\n        <Marker position={busPosition} icon={busIcon}>\n          <Popup>Volvo AC Bus<br />Route: Dehradun ‚Üí Delhi</Popup>\n        </Marker>\n\n        {/* üìç User Marker */}\n        <Marker\n          position={userPosition}\n          icon={L.icon({\n            iconUrl:\n              \"https://cdn-icons-png.flaticon.com/512/64/64113.png\",\n            iconSize: [35, 35],\n          })}\n        >\n          <Popup>Your Location</Popup>\n        </Marker>\n\n        {/* üîµ Circle around user */}\n        <Circle\n          center={userPosition}\n          radius={100}\n          pathOptions={{ color: \"blue\", fillColor: \"#30f\", fillOpacity: 0.2 }}\n        />\n      </MapContainer>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}