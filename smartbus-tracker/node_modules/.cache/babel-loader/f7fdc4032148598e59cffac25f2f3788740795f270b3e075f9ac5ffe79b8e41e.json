{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJECT\\\\smartbus-tracker\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { MapContainer, TileLayer, Polyline, Marker, Popup, useMap } from \"react-leaflet\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport \"./App.css\";\n\n/* -------------------------\n   Custom DIV ICONS (styled via CSS)\n   ------------------------- */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst busIcon = L.divIcon({\n  html: `\n    <div class=\"mobile-bus-icon\">\n      <div class=\"bus-circle\">\n        <div class=\"bus-icon-mobile\"></div>\n      </div>\n    </div>\n  `,\n  iconSize: [48, 48],\n  iconAnchor: [24, 24],\n  popupAnchor: [0, -36],\n  className: \"mobile-bus-marker\"\n});\nconst userIcon = L.divIcon({\n  html: `\n    <div class=\"user-dot-marker\">\n      <div class=\"user-dot\"></div>\n    </div>\n  `,\n  iconSize: [20, 20],\n  iconAnchor: [10, 10],\n  popupAnchor: [0, -12],\n  className: \"user-dot-marker-icon\"\n});\n\n/* -------------------------\n   Route Coordinates (Dehradun -> Delhi)\n   ------------------------- */\nconst routeCoords = [[30.3165, 78.0322],\n// Dehradun\n[29.8661, 77.8945],\n// Roorkee\n[29.4727, 77.7085],\n// Muzaffarnagar\n[29.2100, 77.0400],\n// Meerut\n[28.6139, 77.2090] // Delhi\n];\n\n/* -------------------------\n   Helper: Pan map to bus (custom hook component)\n   ------------------------- */\nfunction MoveMapToBus({\n  busPosition,\n  enablePan = true\n}) {\n  _s();\n  const map = useMap();\n  useEffect(() => {\n    if (busPosition && enablePan) {\n      map.panTo(busPosition, {\n        animate: true,\n        duration: 0.8\n      });\n    }\n  }, [busPosition, map, enablePan]);\n  return null;\n}\n\n/* -------------------------\n   Main Component\n   ------------------------- */\n_s(MoveMapToBus, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c = MoveMapToBus;\nexport default function App() {\n  _s2();\n  // states\n  const [busPos, setBusPos] = useState(routeCoords[0]);\n  const [userPos, setUserPos] = useState(null);\n  const [distance, setDistance] = useState(null);\n  const [status, setStatus] = useState(\"Ready to Track\");\n  const [isTracking, setIsTracking] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [eta, setETA] = useState(\"--\");\n  const [speed] = useState(65); // km/h average\n  const [panelExpanded, setPanelExpanded] = useState(true);\n\n  // refs to keep interval and index\n  const intervalRef = useRef(null);\n  const indexRef = useRef(0);\n\n  // get user location\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(pos => setUserPos([pos.coords.latitude, pos.coords.longitude]), () => setUserPos([28.6139, 77.2090]) // fallback Delhi\n      );\n      // also watch position to update user marker live (optional)\n      const watchId = navigator.geolocation.watchPosition(pos => setUserPos([pos.coords.latitude, pos.coords.longitude]), () => {}, {\n        enableHighAccuracy: true,\n        maximumAge: 5000\n      });\n      return () => navigator.geolocation.clearWatch(watchId);\n    } else {\n      setUserPos([28.6139, 77.2090]); // fallback\n    }\n  }, []);\n\n  // Haversine distance (km)\n  const calcDistance = (a, b) => {\n    if (!a || !b) return null;\n    const toRad = x => x * Math.PI / 180;\n    const R = 6371;\n    const dLat = toRad(b[0] - a[0]);\n    const dLon = toRad(b[1] - a[1]);\n    const lat1 = toRad(a[0]);\n    const lat2 = toRad(b[0]);\n    const val = Math.sin(dLat / 2) ** 2 + Math.cos(lat1) * Math.cos(lat2) * Math.sin(dLon / 2) ** 2;\n    return R * 2 * Math.atan2(Math.sqrt(val), Math.sqrt(1 - val));\n  };\n  const calculateETA = (distanceKm, speedKmh) => {\n    if (!distanceKm || !speedKmh) return \"--\";\n    const minutes = Math.round(distanceKm / speedKmh * 60);\n    if (minutes < 60) return `${minutes} min`;\n    const hrs = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n    return `${hrs}h ${mins}m`;\n  };\n\n  // update derived values whenever bus or user move\n  useEffect(() => {\n    if (userPos && busPos) {\n      const d = calcDistance(userPos, busPos);\n      if (d !== null) {\n        setDistance(d.toFixed(2));\n        setETA(calculateETA(d, speed));\n      }\n    }\n  }, [busPos, userPos, speed]);\n\n  // safe start tracking\n  const startTracking = () => {\n    if (isTracking) return;\n    setStatus(\"Live Tracking\");\n    setIsTracking(true);\n    setPanelExpanded(true);\n\n    // start from current indexRef (helpful when restarting)\n    let i = indexRef.current;\n    if (i >= routeCoords.length - 1) {\n      // if already finished, reset\n      i = 0;\n      indexRef.current = 0;\n      setProgress(0);\n      setBusPos(routeCoords[0]);\n    }\n    intervalRef.current = setInterval(() => {\n      // move forward by one step\n      if (i < routeCoords.length - 1) {\n        i++;\n        indexRef.current = i;\n        const next = routeCoords[i];\n        setBusPos(next);\n\n        // progress percentage\n        const pct = i / (routeCoords.length - 1) * 100;\n        setProgress(pct);\n\n        // update distance/eta done by effect above (busPos changed)\n      } else {\n        // reached destination\n        clearInterval(intervalRef.current);\n        intervalRef.current = null;\n        setStatus(\"Reached Destination\");\n        setIsTracking(false);\n        setProgress(100);\n      }\n    }, 2000); // 2s for smoother mobile feel\n  };\n  const stopTracking = () => {\n    if (intervalRef.current) {\n      clearInterval(intervalRef.current);\n      intervalRef.current = null;\n    }\n    setIsTracking(false);\n    setStatus(\"Tracking Paused\");\n  };\n  const togglePanel = () => setPanelExpanded(p => !p);\n\n  // clear interval on unmount\n  useEffect(() => {\n    return () => {\n      if (intervalRef.current) clearInterval(intervalRef.current);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-root\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"mobile-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back-button\",\n        onClick: () => {/* optional back behavior */},\n        children: \"\\u2190\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-title-mobile\",\n        children: \"Live Tracking\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-right\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `mini-btn ${isTracking ? \"active\" : \"\"}`,\n          onClick: isTracking ? stopTracking : startTracking,\n          children: isTracking ? \"‚èπÔ∏è\" : \"‚ñ∂Ô∏è\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"floating-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `control-button ${isTracking ? \"active\" : \"\"}`,\n          onClick: isTracking ? stopTracking : startTracking,\n          children: isTracking ? \"Stop\" : \"Start\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-button\",\n          onClick: togglePanel,\n          children: \"Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: routeCoords[0],\n        zoom: 9,\n        className: \"map-container\",\n        attributionControl: false,\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Polyline, {\n          positions: routeCoords,\n          color: \"#ff8c00\",\n          weight: 5,\n          opacity: 0.9\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Marker, {\n          position: busPos,\n          icon: busIcon,\n          children: /*#__PURE__*/_jsxDEV(Popup, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: \"center\",\n                minWidth: 160\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uD83D\\uDE8C Live Bus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 6\n                },\n                children: [\"Status: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  style: {\n                    color: \"#ff8c00\"\n                  },\n                  children: status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 55\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 8\n                },\n                children: [\"Progress: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [Math.round(progress), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 57\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this), distance && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 6\n                },\n                children: [\"\\uD83D\\uDCCD \", distance, \" km away\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 30\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), userPos && /*#__PURE__*/_jsxDEV(Marker, {\n          position: userPos,\n          icon: userIcon,\n          children: /*#__PURE__*/_jsxDEV(Popup, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: \"center\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uD83D\\uDCCD Your Location\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 12,\n                  color: \"#666\",\n                  marginTop: 4\n                },\n                children: [userPos[0].toFixed(4), \", \", userPos[1].toFixed(4)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(MoveMapToBus, {\n          busPosition: busPos,\n          enablePan: isTracking\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n        className: `bottom-panel ${panelExpanded ? \"expanded\" : \"collapsed\"}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel-handle\",\n          onClick: togglePanel,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"panel-drag-indicator\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bus-info-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bus-info-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bus-emoji\",\n              children: \"\\uD83D\\uDE8C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bus-meta\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bus-info-title\",\n                children: \"Dehradun \\u2192 Delhi Express\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bus-sub\",\n                children: status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-label\",\n                children: \"Journey Progress\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-value\",\n                children: [Math.round(progress), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-bar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-fill\",\n                style: {\n                  width: `${progress}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stats-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-number\",\n                children: distance !== null && distance !== void 0 ? distance : \"--\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-label\",\n                children: \"Distance (km)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-number\",\n                children: speed\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-label\",\n                children: \"Speed (km/h)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-number\",\n                children: eta !== null && eta !== void 0 ? eta : \"--\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-label\",\n                children: \"ETA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-number\",\n                children: \"250\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-label\",\n                children: \"Total (km)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"panel-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-primary\",\n              onClick: isTracking ? stopTracking : startTracking,\n              children: isTracking ? \"‚èπÔ∏è Stop Tracking\" : \"üéØ Start Tracking\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-secondary\",\n              onClick: () => alert(\"More details coming soon!\"),\n              children: \"\\uD83D\\uDCCB Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 193,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"pXyyLDR0A9W3btnSmlSPu2ECOYA=\");\n_c2 = App;\nvar _c, _c2;\n$RefreshReg$(_c, \"MoveMapToBus\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useRef","MapContainer","TileLayer","Polyline","Marker","Popup","useMap","L","jsxDEV","_jsxDEV","busIcon","divIcon","html","iconSize","iconAnchor","popupAnchor","className","userIcon","routeCoords","MoveMapToBus","busPosition","enablePan","_s","map","panTo","animate","duration","_c","App","_s2","busPos","setBusPos","userPos","setUserPos","distance","setDistance","status","setStatus","isTracking","setIsTracking","progress","setProgress","eta","setETA","speed","panelExpanded","setPanelExpanded","intervalRef","indexRef","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","watchId","watchPosition","enableHighAccuracy","maximumAge","clearWatch","calcDistance","a","b","toRad","x","Math","PI","R","dLat","dLon","lat1","lat2","val","sin","cos","atan2","sqrt","calculateETA","distanceKm","speedKmh","minutes","round","hrs","floor","mins","d","toFixed","startTracking","i","current","length","setInterval","next","pct","clearInterval","stopTracking","togglePanel","p","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","center","zoom","attributionControl","url","positions","color","weight","opacity","position","icon","style","textAlign","minWidth","marginTop","fontSize","width","alert","_c2","$RefreshReg$"],"sources":["D:/PROJECT/smartbus-tracker/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport { MapContainer, TileLayer, Polyline, Marker, Popup, useMap } from \"react-leaflet\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport \"./App.css\";\n\n/* -------------------------\n   Custom DIV ICONS (styled via CSS)\n   ------------------------- */\nconst busIcon = L.divIcon({\n  html: `\n    <div class=\"mobile-bus-icon\">\n      <div class=\"bus-circle\">\n        <div class=\"bus-icon-mobile\"></div>\n      </div>\n    </div>\n  `,\n  iconSize: [48, 48],\n  iconAnchor: [24, 24],\n  popupAnchor: [0, -36],\n  className: \"mobile-bus-marker\"\n});\n\nconst userIcon = L.divIcon({\n  html: `\n    <div class=\"user-dot-marker\">\n      <div class=\"user-dot\"></div>\n    </div>\n  `,\n  iconSize: [20, 20],\n  iconAnchor: [10, 10],\n  popupAnchor: [0, -12],\n  className: \"user-dot-marker-icon\"\n});\n\n/* -------------------------\n   Route Coordinates (Dehradun -> Delhi)\n   ------------------------- */\nconst routeCoords = [\n  [30.3165, 78.0322], // Dehradun\n  [29.8661, 77.8945], // Roorkee\n  [29.4727, 77.7085], // Muzaffarnagar\n  [29.2100, 77.0400], // Meerut\n  [28.6139, 77.2090], // Delhi\n];\n\n/* -------------------------\n   Helper: Pan map to bus (custom hook component)\n   ------------------------- */\nfunction MoveMapToBus({ busPosition, enablePan = true }) {\n  const map = useMap();\n  useEffect(() => {\n    if (busPosition && enablePan) {\n      map.panTo(busPosition, { animate: true, duration: 0.8 });\n    }\n  }, [busPosition, map, enablePan]);\n  return null;\n}\n\n/* -------------------------\n   Main Component\n   ------------------------- */\nexport default function App() {\n  // states\n  const [busPos, setBusPos] = useState(routeCoords[0]);\n  const [userPos, setUserPos] = useState(null);\n  const [distance, setDistance] = useState(null);\n  const [status, setStatus] = useState(\"Ready to Track\");\n  const [isTracking, setIsTracking] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [eta, setETA] = useState(\"--\");\n  const [speed] = useState(65); // km/h average\n  const [panelExpanded, setPanelExpanded] = useState(true);\n\n  // refs to keep interval and index\n  const intervalRef = useRef(null);\n  const indexRef = useRef(0);\n\n  // get user location\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        (pos) => setUserPos([pos.coords.latitude, pos.coords.longitude]),\n        () => setUserPos([28.6139, 77.2090]) // fallback Delhi\n      );\n      // also watch position to update user marker live (optional)\n      const watchId = navigator.geolocation.watchPosition(\n        (pos) => setUserPos([pos.coords.latitude, pos.coords.longitude]),\n        () => {},\n        { enableHighAccuracy: true, maximumAge: 5000 }\n      );\n      return () => navigator.geolocation.clearWatch(watchId);\n    } else {\n      setUserPos([28.6139, 77.2090]); // fallback\n    }\n  }, []);\n\n  // Haversine distance (km)\n  const calcDistance = (a, b) => {\n    if (!a || !b) return null;\n    const toRad = (x) => (x * Math.PI) / 180;\n    const R = 6371;\n    const dLat = toRad(b[0] - a[0]);\n    const dLon = toRad(b[1] - a[1]);\n    const lat1 = toRad(a[0]);\n    const lat2 = toRad(b[0]);\n    const val =\n      Math.sin(dLat / 2) ** 2 +\n      Math.cos(lat1) * Math.cos(lat2) * Math.sin(dLon / 2) ** 2;\n    return R * 2 * Math.atan2(Math.sqrt(val), Math.sqrt(1 - val));\n  };\n\n  const calculateETA = (distanceKm, speedKmh) => {\n    if (!distanceKm || !speedKmh) return \"--\";\n    const minutes = Math.round((distanceKm / speedKmh) * 60);\n    if (minutes < 60) return `${minutes} min`;\n    const hrs = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n    return `${hrs}h ${mins}m`;\n  };\n\n  // update derived values whenever bus or user move\n  useEffect(() => {\n    if (userPos && busPos) {\n      const d = calcDistance(userPos, busPos);\n      if (d !== null) {\n        setDistance(d.toFixed(2));\n        setETA(calculateETA(d, speed));\n      }\n    }\n  }, [busPos, userPos, speed]);\n\n  // safe start tracking\n  const startTracking = () => {\n    if (isTracking) return;\n    setStatus(\"Live Tracking\");\n    setIsTracking(true);\n    setPanelExpanded(true);\n\n    // start from current indexRef (helpful when restarting)\n    let i = indexRef.current;\n    if (i >= routeCoords.length - 1) {\n      // if already finished, reset\n      i = 0;\n      indexRef.current = 0;\n      setProgress(0);\n      setBusPos(routeCoords[0]);\n    }\n\n    intervalRef.current = setInterval(() => {\n      // move forward by one step\n      if (i < routeCoords.length - 1) {\n        i++;\n        indexRef.current = i;\n        const next = routeCoords[i];\n        setBusPos(next);\n\n        // progress percentage\n        const pct = (i / (routeCoords.length - 1)) * 100;\n        setProgress(pct);\n\n        // update distance/eta done by effect above (busPos changed)\n      } else {\n        // reached destination\n        clearInterval(intervalRef.current);\n        intervalRef.current = null;\n        setStatus(\"Reached Destination\");\n        setIsTracking(false);\n        setProgress(100);\n      }\n    }, 2000); // 2s for smoother mobile feel\n  };\n\n  const stopTracking = () => {\n    if (intervalRef.current) {\n      clearInterval(intervalRef.current);\n      intervalRef.current = null;\n    }\n    setIsTracking(false);\n    setStatus(\"Tracking Paused\");\n  };\n\n  const togglePanel = () => setPanelExpanded((p) => !p);\n\n  // clear interval on unmount\n  useEffect(() => {\n    return () => {\n      if (intervalRef.current) clearInterval(intervalRef.current);\n    };\n  }, []);\n\n  return (\n    <div className=\"app-root\">\n      {/* Mobile Header */}\n      <header className=\"mobile-header\">\n        <button className=\"back-button\" onClick={() => { /* optional back behavior */ }}>\n          ‚Üê\n        </button>\n        <div className=\"header-title-mobile\">Live Tracking</div>\n        <div className=\"header-right\">\n          <button className={`mini-btn ${isTracking ? \"active\" : \"\"}`} onClick={isTracking ? stopTracking : startTracking}>\n            {isTracking ? \"‚èπÔ∏è\" : \"‚ñ∂Ô∏è\"}\n          </button>\n        </div>\n      </header>\n\n      {/* Map and Floating UI */}\n      <div className=\"map-wrapper\">\n        <div className=\"floating-controls\">\n          <button className={`control-button ${isTracking ? \"active\" : \"\"}`} onClick={isTracking ? stopTracking : startTracking}>\n            {isTracking ? \"Stop\" : \"Start\"}\n          </button>\n          <button className=\"control-button\" onClick={togglePanel}>Details</button>\n        </div>\n\n        <MapContainer center={routeCoords[0]} zoom={9} className=\"map-container\" attributionControl={false}>\n          <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\n          <Polyline positions={routeCoords} color=\"#ff8c00\" weight={5} opacity={0.9} />\n          <Marker position={busPos} icon={busIcon}>\n            <Popup>\n              <div style={{ textAlign: \"center\", minWidth: 160 }}>\n                <strong>üöå Live Bus</strong>\n                <div style={{ marginTop: 6 }}>Status: <strong style={{ color: \"#ff8c00\" }}>{status}</strong></div>\n                <div style={{ marginTop: 8 }}>Progress: <strong>{Math.round(progress)}%</strong></div>\n                {distance && <div style={{ marginTop: 6 }}>üìç {distance} km away</div>}\n              </div>\n            </Popup>\n          </Marker>\n          {userPos && (\n            <Marker position={userPos} icon={userIcon}>\n              <Popup>\n                <div style={{ textAlign: \"center\" }}>\n                  <strong>üìç Your Location</strong>\n                  <div style={{ fontSize: 12, color: \"#666\", marginTop: 4 }}>\n                    {userPos[0].toFixed(4)}, {userPos[1].toFixed(4)}\n                  </div>\n                </div>\n              </Popup>\n            </Marker>\n          )}\n\n          <MoveMapToBus busPosition={busPos} enablePan={isTracking} />\n        </MapContainer>\n\n        {/* Bottom Panel */}\n        <aside className={`bottom-panel ${panelExpanded ? \"expanded\" : \"collapsed\"}`}>\n          <div className=\"panel-handle\" onClick={togglePanel}>\n            <div className=\"panel-drag-indicator\" />\n          </div>\n\n          <div className=\"bus-info-card\">\n            <div className=\"bus-info-header\">\n              <div className=\"bus-emoji\">üöå</div>\n              <div className=\"bus-meta\">\n                <div className=\"bus-info-title\">Dehradun ‚Üí Delhi Express</div>\n                <div className=\"bus-sub\">{status}</div>\n              </div>\n            </div>\n\n            <div className=\"progress-row\">\n              <div className=\"progress-left\">\n                <div className=\"progress-label\">Journey Progress</div>\n                <div className=\"progress-value\">{Math.round(progress)}%</div>\n              </div>\n              <div className=\"progress-bar\">\n                <div className=\"progress-fill\" style={{ width: `${progress}%` }} />\n              </div>\n            </div>\n\n            <div className=\"stats-grid\">\n              <div className=\"stat\">\n                <div className=\"stat-number\">{distance ?? \"--\"}</div>\n                <div className=\"stat-label\">Distance (km)</div>\n              </div>\n              <div className=\"stat\">\n                <div className=\"stat-number\">{speed}</div>\n                <div className=\"stat-label\">Speed (km/h)</div>\n              </div>\n              <div className=\"stat\">\n                <div className=\"stat-number\">{eta ?? \"--\"}</div>\n                <div className=\"stat-label\">ETA</div>\n              </div>\n              <div className=\"stat\">\n                <div className=\"stat-number\">250</div>\n                <div className=\"stat-label\">Total (km)</div>\n              </div>\n            </div>\n\n            <div className=\"panel-actions\">\n              <button className=\"btn-primary\" onClick={isTracking ? stopTracking : startTracking}>\n                {isTracking ? \"‚èπÔ∏è Stop Tracking\" : \"üéØ Start Tracking\"}\n              </button>\n              <button className=\"btn-secondary\" onClick={() => alert(\"More details coming soon!\")}>\n                üìã Details\n              </button>\n            </div>\n          </div>\n        </aside>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}